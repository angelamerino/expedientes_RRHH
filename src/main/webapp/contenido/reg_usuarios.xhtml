<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../resources/plantilla/plantilla.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">

        <div class="page-header">
            <h1>REGISTRO DE USUARIOS</h1>
        </div>
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading"><strong>Agregando Usuarios del Sistema</strong></div>
                <div class="panel-body"> 
                     <h:form id="form1" class="form-horizontal" >
                         <p:messages showDetail="true" />
                        <div class="form-group">
                            <label class="control-label col-xs-3" style="font-size: 12px">Nombre Completo:</label>
                            <div class="col-xs-9">
                                <h:inputText id="nombreCompleto" value="#{manejadorUsuarios.nuevoUsuario.nombreCompleto}" 
                                             title="Nombre Completo" required="true" requiredMessage="El Nombre Completo es un dato requerido." class="form-control">
                                </h:inputText>
                                <!--            <input type="text" class="form-control" placeholder="Nombre">-->
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-xs-3" style="font-size: 12px">Usuario:</label>
                            <div class="col-xs-3">
                                <h:inputText id="usuario" value="#{manejadorUsuarios.nuevoUsuario.usuario}" 
                                             title="Usuario" required="true" requiredMessage="El Usuario es un dato requerido." class="form-control">
                                </h:inputText>
                                <!--            <input type="password" class="form-control" id="inputPassword" placeholder="Usuario"/>-->
                            </div>

                            <label class="control-label col-xs-3" style="font-size: 12px">Contraseña:</label>
                            <div class="col-xs-3" id="clave1">
                                <p:password value="#{manejadorUsuarios.nuevoUsuario.clave}" id="pass1" required="true" 
                                            requiredMessage="La contraseña es un dato requerido." class="form-control" match="pass2" title="Contraseña"
                                            validatorMessage="No coincide"/>
<!--                                <h:inputSecret value="{manejadorUsuarios.nuevoUsuario.clave}" id="pass1" 
                                               title="Clave" required="true" requiredMessage="La contraseña es un dato requerido." class="form-control">
                                </h:inputSecret>-->
                                
                            </div> 
                        </div>

                        <div class="form-group">
                            <label class="control-label col-xs-9" style="font-size: 12px">Confirmar Constraseña:</label>
                            <div class="col-xs-3">
                                <p:password class="form-control" id="pass2" placeholder="Confirmar Contraseña"/>
<!--                                <input type="password" id="pass2" class="form-control" placeholder="Confirmar Password"/>-->
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-xs-3" style="font-size: 12px">Estado:</label>

                            <div class="col-xs-3">
                                <h:selectOneMenu id="idEstadoUsuario" value="#{manejadorUsuarios.estado}" style="width:150px" 
                                                 title="Estado del Usuario" required="true" requiredMessage="El Estado es un campo requerido." class="form-control">
                                    <!-- TODO: update below reference to list of available items-->
                                    <f:selectItems value="#{manejadorUsuarios.todosEstadosUsuarios()}" var="estados" itemLabel="#{estados.nombreEstadoUsuario}" itemValue="#{estados.idEstadoUsuario}"/>
                                </h:selectOneMenu>
                                
                            </div>


                            <label class="control-label col-xs-3" style="font-size: 12px">Tipo de Usuario:</label>

                            <div class="col-xs-3">
                                <h:selectOneMenu id="idRolUsuario" value="#{manejadorUsuarios.tipoUsuario}" class="form-control"
                                                 title="Tipo de Usuario" required="true" requiredMessage="El Tipo de Usuario es un campo requerido.">
                                    <!-- TODO: update below reference to list of available items-->
                                    <f:selectItems value="#{manejadorUsuarios.todosRoles()}" var="roles" itemLabel="#{roles.nombreRolUsuario}" itemValue="#{roles.idRolUsuario}"/>
                                </h:selectOneMenu>
                                
                            </div>

                        </div>

                        <div class="form-group">
                            <label class="control-label col-xs-3" style="font-size: 12px">Dirección Nacional:</label>
                            <div class="col-xs-9">
                                <h:selectOneMenu id="dirNac" value="#{manejadorUsuarios.dirNacionalFuncional}" style="width:600px"  
                                                 title="Dirección Nacional" required="true" requiredMessage="Es necesario que seleccione una Dirección Nacional.">
                                    
                                    <f:selectItem itemValue="0" itemLabel="-- Seleccionar --" />
                                    <f:selectItems value="#{manejadorGestionEmpleado.todosDirNacional()}" var="dirNacional" itemLabel="#{dirNacional.nombreDirNac}" itemValue="#{dirNacional.idDirNac}"/>
                                    <p:ajax update="dependecia" process="@this" rendered="dependencia"/>
                                </h:selectOneMenu>
                                <!--            <textarea rows="3" class="form-control" placeholder="Dirección"></textarea>-->
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-xs-3" style="font-size: 12px">Dependencia:</label>
                            <div class="col-xs-9"> 

                                <h:selectOneMenu id="dependecia" value="#{manejadorUsuarios.dependencia}" class="form-control" style="width:600px"
                                                 title="Dependencias" required="true" requiredMessage="El nombre de la Dependencia es un campo requerido.">
                                    
                                    <f:selectItem itemValue="0" itemLabel="-- Seleccionar --" />
                                    <f:selectItems value="#{manejadorUsuarios.dependenciasFiltradas()}" var="a" itemLabel="#{a.nombreDependencia}" itemValue="#{a.idDependencia}"/>
                                    <!--                        <p:ajax update="@this"/>-->
                                </h:selectOneMenu>
                                <!--            <textarea rows="3" class="form-control" placeholder="Dirección"></textarea>-->
                            </div>
                        </div>

<!--                        <div class="form-group">
                            <h:outputLabel style="font-size: 12px" value="Id del usuario que registra:" for="userCreaUsistema" class="control-label col-xs-3" />
                            <h:inputText id="userCreaUsistema" value="{manejadorUsuarios.nuevoUsuario.userCreaUsistema}" title="UserCreaUsistema" class="form-control col-xs-3" style="width:100px"/>
                            <h:outputLabel style="font-size: 12px" value="Fecha de Registro:" for="fechaCreaUsistema" class="control-label col-xs-3"/>
                            <h:inputText id="txtfechaCrea" value="{manejadorUsuarios.nuevoUsuario.fechaCreaUsistema}" class="form-control col-xs-3" style="width:100px">
                                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                            </h:inputText>
                            <h:outputText id="txtfechaCrea1" value="{manejadorUsuarios.mostrarFecha.setDate(date)}" class="form-control col-xs-3" style="width:100px">
                                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                            </h:outputText>
                        </div>-->

                        <br>
                            <div class="form-group">
                                <!--                    <div class="col-xs-offset-3 col-xs-9">-->
                                <div class="col-xs-6" align="right">
                                    <h:commandButton value="Guardar" class="btn btn-primary" action="#{manejadorUsuarios.guardarUsuario()}" >
<!--                                       <p:ajax process="@form" update="@form"/>-->
                                    </h:commandButton>
                                    
 <!-- <input type="submit" class="btn btn-primary" value="Guardar"></input>-->
                                </div>
                                <div class="col-xs-6" align="left">
                                    <input type="reset" class="btn btn-default" value="Limpiar"></input>
                                </div>
                            </div>
                        </br>
                       </h:form>    
                   
                </div>
            </div>
        </div>

        <!--        <f:view>
        
        
                    <h:form>
                        <h1><h:outputText value="Create/Edit"/></h1>
                        <h:panelGrid columns="2">
                            <h:outputLabel value="IdUsuario:" for="idUsuario" />
                            <h:inputText id="idUsuario" value="{manejadorUsuarios.nuevoUsuario.idUsuario}" title="IdUsuario" required="true" requiredMessage="The IdUsuario field is required."/>
                            <h:outputLabel value="NombreCompleto:" for="nombreCompleto" />
                            <h:inputText id="nombreCompleto" value="{manejadorUsuarios.nuevoUsuario.nombreCompleto}" title="NombreCompleto" required="true" requiredMessage="The NombreCompleto field is required."/>
                            <h:outputLabel value="Usuario:" for="usuario" />
                            <h:inputText id="usuario" value="{manejadorUsuarios.nuevoUsuario.usuario}" title="Usuario" required="true" requiredMessage="The Usuario field is required."/>
                            <h:outputLabel value="Clave:" for="clave" />
                            <h:inputText id="clave" value="{manejadorUsuarios.nuevoUsuario.clave}" title="Clave" required="true" requiredMessage="The Clave field is required."/>
                            <h:outputLabel value="UserCreaUsistema:" for="userCreaUsistema" />
                            <h:inputText id="userCreaUsistema" value="{manejadorUsuarios.nuevoUsuario.userCreaUsistema}" title="UserCreaUsistema" />
                            <h:outputLabel value="FechaCreaUsistema:" for="fechaCreaUsistema" />
                            <h:inputText id="fechaCreaUsistema" value="{manejadorUsuarios.nuevoUsuario.fechaCreaUsistema}" title="FechaCreaUsistema" >
                                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                            </h:inputText>
                            <h:outputLabel value="UserModUsistema:" for="userModUsistema" />
                            <h:inputText id="userModUsistema" value="{manejadorUsuarios.nuevoUsuario.userModUsistema}" title="UserModUsistema" />
                            <h:outputLabel value="FechaModUsistema:" for="fechaModUsistema" />
                            <h:inputText id="fechaModUsistema" value="{manejadorUsuarios.nuevoUsuario.fechaModUsistema}" title="FechaModUsistema" >
                                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                            </h:inputText>
                            <h:outputLabel value="IdRolUsuario:" for="idRolUsuario" />
                            <h:selectOneMenu id="idRolUsuario" value="{manejadorUsuarios.nuevoUsuario.idRolUsuario}" title="IdRolUsuario" required="true" requiredMessage="The IdRolUsuario field is required.">
                                 TODO: update below reference to list of available items
                                <f:selectItems value="{fixme}"/>
                            </h:selectOneMenu>
                            <h:outputLabel value="IdEstadoUsuario:" for="idEstadoUsuario" />
                            <h:selectOneMenu id="idEstadoUsuario" value="{manejadorUsuarios.nuevoUsuario.idEstadoUsuario}" title="IdEstadoUsuario" required="true" requiredMessage="The IdEstadoUsuario field is required.">
                                 TODO: update below reference to list of available items
                                <f:selectItems value="{fixme}"/>
                            </h:selectOneMenu>
                            <h:outputLabel value="IdDependencia:" for="idDependencia" />
                            <h:selectOneMenu id="idDependencia" value="{manejadorUsuarios.nuevoUsuario.idDependencia}" title="IdDependencia" required="true" requiredMessage="The IdDependencia field is required.">
                                 TODO: update below reference to list of available items
                                <f:selectItems value="{fixme}"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                    </h:form>
                </f:view>-->


    </ui:define>

</ui:composition>
