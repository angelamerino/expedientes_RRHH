<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="../WEB-INF/templates/plantilla.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="title"> Gestión de Empleados</ui:define>

    <ui:define name="content">
        <h:form prependId="false">
            <p:growl id="growl" showDetail="false"  autoUpdate="true" life="10000" />
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h4>GESTIÓN DE EMPLEADOS</h4>
                </div>
                <div class="panel-body">
                    <div class="table table-responsive">
                        <p:dataTable id="empleadoList" value="#{manejadorGestionEmpleado.todosEmpleados()}" var="emp" rowKey="#{emp.idEmpleado}" rows="10" paginator="true" rowsPerPageTemplate="10,15,25">
                            <p:column filterBy="#{emp.nombreEmpleado}" filterMatchMode="contains">
                                <f:facet name="header">
                                    <h:outputText value="Nombre del Empleado"/>
                                </f:facet>
                                <h:outputText value="#{emp.nombreEmpleado}"/>
                            </p:column>
                            <p:column filterBy="#{emp.idEstado.nombreEstado}" filterMatchMode="contains" priority="3">
                                <f:facet name="header">
                                    <h:outputText value="Estado"/>
                                </f:facet>
                                <h:outputText value="#{emp.idEstado.nombreEstado}"/>
                            </p:column>
                            <p:column filterBy="#{emp.idDependenciaF.idDirNac.nombreDirNac}" filterMatchMode="contains" priority="4">
                                <f:facet name="header">
                                    <h:outputText value="Dirección Nacional"/>
                                </f:facet>
                                <h:outputText value="#{emp.idDependenciaF.idDirNac.nombreDirNac}"/>
                            </p:column>
                            <p:column filterBy="#{emp.idDependenciaF.nombreDependencia}" filterMatchMode="contains" priority="5">
                                <f:facet name="header">
                                    <h:outputText value="Unidad Organizativa/Dependencia"/>
                                </f:facet> 
                                <h:outputText value="#{emp.idDependenciaF.nombreDependencia}"/>
                            </p:column>
                            <p:column style="width: 100px; text-align: center;" priority="2">
                                <f:facet name="header">
                                    <h:outputText value="Editar"/>
                                </f:facet>
                                <p:button outcome="editar_empleados" icon="ui-icon-pencil" value="Editar">
                                    <f:param name="id" value="#{emp.idEmpleado}"/>
                                </p:button>
                            </p:column>
                        </p:dataTable>
                    </div>
                </div>
            </div>
        </h:form>
    </ui:define>

</ui:composition>
