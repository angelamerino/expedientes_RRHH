<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../resources/plantilla/plantilla.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">
        <link href="#{request.contextPath}/resources/datatables/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css"/>

        <div class="page-header">
            <h1><strong>ESTUDIOS</strong></h1>
        </div>

        <div class="panel panel-info">
            <div class="panel-heading"><strong>Agregar/Eliminar</strong></div>
            <div class="panel-body">

                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">  
                        <h2 class="text-info text-center">Buscar Empleado</h2>
                        <div class="clearfix"></div>
                        <br />
                    </div>                            
                    <div class="col-md-2"></div>
                </div>

                <div class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-6"> 

                        <h:form>
                            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                            <div class="form-group">
                                <h:outputLabel value="Dirección Nacional:"/>
                                <h:selectOneMenu class="form-control" id="dirNacionalFiltrarJefe" style="width: 100%" value="#{manejadorEstudiosEmpleados.direccionNacional}">
                                    <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                    <f:selectItems value="#{manejadorEstudiosEmpleados.todosDirNacional()}" var="dirNacional" itemLabel="#{dirNacional.nombreDirNac}" itemValue="#{dirNacional.idDirNac}"/>
                                    <f:ajax render="filtrarDependencia filtrarEmpleado tabla1 tabla2 tabla3 tabla4 nombre1 nombre2 nombre3 nombre4"/>
                                </h:selectOneMenu>
                            </div>

                            <div class="form-group">
                                <h:outputLabel value="Dependencia / Unidad organizativa:"/>
                                <h:selectOneMenu class="form-control" id="filtrarDependencia"  style="width: 100%" value="#{manejadorEstudiosEmpleados.dependecia}">
                                    <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                    <f:selectItems value="#{manejadorEstudiosEmpleados.dependenciasFiltradas()}" var="a" itemLabel="#{a.nombreDependencia}" itemValue="#{a.idDependencia}"/>
                                    <f:ajax render="filtrarEmpleado tabla1 tabla2 tabla3 tabla4 nombre1 nombre2 nombre3 nombre4"/>
                                </h:selectOneMenu>
                            </div>

                            <div class="form-group">
                                <h:outputLabel value="Empleado:"/>
                                <h:selectOneMenu class="form-control" id="filtrarEmpleado" style="width: 100%" value="#{manejadorEstudiosEmpleados.empleadoSelecionado}" >
                                    <f:selectItem itemLabel="Seleccione uno..."  itemValue="#{null}" noSelectionOption="true"/>
                                    <f:selectItems value="#{manejadorEstudiosEmpleados.empleadoFiltrado()}" var="emple" itemLabel="#{emple.nombreEmpleado}" itemValue="#{emple.idEmpleado}"/>
                                    <f:ajax render="tabla1 tabla2 tabla3 tabla4 nombre1 nombre2 nombre3 nombre4"/>
                                </h:selectOneMenu>
                            </div>

                        </h:form>

                    </div>                            
                    <div class="col-md-3"></div>
                </div>

                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8"> 
                        <h:form prependId="false">
                            <h2 class="text-info text-center">Formación Formal</h2>
                            <h:commandButton  value="Agregar" class="pull-right btn btn-info" actionListener="#{manejadorEstudiosEmpleados.empleadoSelecionadoValidoF}">
                                <f:ajax />
                            </h:commandButton> 
                            <p:outputLabel id="nombre1"  style="font-size: 1.2em" value="Empleado: #{manejadorEstudiosEmpleados.nombreEmp}" />
                            <div class="clearfix"></div>
                            <br />
                        </h:form>
                    </div>
                    <div class="col-md-2"></div>
                </div> 

                <!-- TABLA ESTUDIOS FORMALES -->
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <div class="table table-responsive">
                            <f:view>
                                <h:form prependId="false">
                                    <h:panelGroup id ="tabla1">
                                        <h:dataTable id="listFormales" value="#{manejadorEstudiosEmpleados.todosEstudiosFomales()}" var="item" style="font-size: 14px" styleClass="table table-striped table-hover">
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Descripciónn"/>
                                                </f:facet>
                                                <h:outputText value="#{item.idProfOficio.nombreProfOficio}"/>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Instituciónn"/>
                                                </f:facet>
                                                <h:outputText value="#{item.institucionEstudio}"/>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Año"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:outputText value="#{item.anioEstudio}">
                                                        <f:convertDateTime pattern="yyyy" />
                                                    </h:outputText>
                                                </center>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Tipo"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:outputText value="#{item.tipoEstudio}"/>
                                                </center>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Editar/Eliminar"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:commandLink styleClass="btn-sm glyphicon glyphicon-pencil" style="text-decoration:none;" title="Editar">
                                                        <f:setPropertyActionListener value="#{item}" target="#{manejadorEstudiosEmpleados.estudiosEmp}"/> 
                                                         <f:setPropertyActionListener value="#{item.anioEstudio}" target="#{manejadorEstudiosEmpleados.anioedit}"/> 
                                                        <p:ajax update="panelFormalEdit" />
                                                        <p:ajax update="tabla1"  onsuccess="PF('formalEdit').show()"/>
                                                    </h:commandLink>
                                                    <h:commandLink action="#{manejadorEstudiosEmpleados.eliminarEstudio(item)}" styleClass="btn-sm glyphicon glyphicon-remove" style="text-decoration:none;" title="Eliminar">
                                                        <f:ajax execute="@this" render="tabla1" />
                                                    </h:commandLink>                                                   
                                                </center>
                                            </h:column>
                                        </h:dataTable>
                                    </h:panelGroup>
                                </h:form>
                            </f:view>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>

                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">  
                        <h:form prependId="false">
                            <hr />
                            <h2 class="text-info text-center">Formación No Formal</h2>
                            <h:commandButton  value="Agregar" class="pull-right btn btn-info" actionListener="#{manejadorEstudiosEmpleados.empleadoSelecionadoValidoNF}">
                                <f:ajax />
                            </h:commandButton>
                            <p:outputLabel id="nombre2"  style="font-size: 1.2em" value="Empleado: #{manejadorEstudiosEmpleados.nombreEmp}" />
                            <div class="clearfix"></div>
                            <br />
                        </h:form>
                    </div>
                    <div class="col-md-2"></div>
                </div> 

                <!-- TABLA ESTUDIOS NO FORMALES -->
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8"> 
                        <div class="table table-responsive">
                            <f:view>
                                <h:form prependId="false">
                                    <h:panelGroup id ="tabla2">
                                        <h:dataTable id="listNoFormales" value="#{manejadorEstudiosEmpleados.todosEstudiosNoFomales()}" var="item" style="font-size: 14px" styleClass="table table-striped table-hover">
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Descripción"/>
                                                </f:facet>
                                                <h:outputText value="#{item.idProfOficio.nombreProfOficio}"/>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Institución"/>
                                                </f:facet>
                                                <h:outputText value="#{item.institucionEstudio}"/>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Año"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:outputText value="#{item.anioEstudio}">
                                                        <f:convertDateTime pattern="yyyy" />
                                                    </h:outputText>
                                                </center>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Tipo"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:outputText value="#{item.tipoEstudio}"/>
                                                </center>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Editar/Eliminar"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:commandLink styleClass="btn-sm glyphicon glyphicon-pencil" style="text-decoration:none;" title="Editar">
                                                        <f:setPropertyActionListener value="#{item}" target="#{manejadorEstudiosEmpleados.estudiosEmp}"/>
                                                        <f:setPropertyActionListener value="#{item.anioEstudio}" target="#{manejadorEstudiosEmpleados.anioedit}"/>
                                                        <p:ajax update="panelNoFormalEdit" />
                                                        <p:ajax update="tabla2"  onsuccess="PF('noformalEdit').show()"/>
                                                    </h:commandLink>
                                                    <h:commandLink action="#{manejadorEstudiosEmpleados.eliminarEstudio(item)}" styleClass="btn-sm glyphicon glyphicon-remove" style="text-decoration:none;" title="Eliminar">
                                                        <f:ajax execute="@this" render="tabla2" />
                                                    </h:commandLink>                                                        
                                                </center>
                                            </h:column>
                                        </h:dataTable>
                                    </h:panelGroup>
                                </h:form>
                            </f:view>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div> 

                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">  
                        <h:form prependId="false">
                            <hr />
                            <h2 class="text-info text-center">Conocimiento de Idiomas</h2>
                            <h:commandButton  value="Agregar Idioma" class="pull-right btn btn-info" actionListener="#{manejadorEstudiosEmpleados.empleadoSelecionadoValidoI}">
                                <f:ajax />
                            </h:commandButton>
                            <p:outputLabel id="nombre3"  style="font-size: 1.2em" value="Empleado: #{manejadorEstudiosEmpleados.nombreEmp}" />
                            <div class="clearfix"></div>
                            <br />
                        </h:form>
                    </div>
                    <div class="col-md-2"></div>
                </div> 

                <!-- TABLA IDIOMAS -->
                <div class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-6">
                        <div class="table table-responsive">
                            <f:view>
                                <h:form prependId="false">
                                    <h:panelGroup id ="tabla3">
                                        <h:dataTable id="idiomasList" value="#{manejadorEstudiosEmpleados.idiomasEmpleado()}" var="item" style="font-size: 14px" styleClass="table table-striped table-hover">
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Idioma"/>
                                                </f:facet>
                                                <h:outputText value="#{item.nombreIdioma}"/>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Características"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:commandLink styleClass="btn-sm  glyphicon glyphicon-eye-open" style="text-decoration:none;" title="ver">
                                                        <f:setPropertyActionListener value="#{item}" target="#{manejadorEstudiosEmpleados.idiomas}" />
                                                        <p:ajax update="listCarac"  onsuccess="PF('viewIdiomas').show()"/>
                                                    </h:commandLink>                                                    
                                                </center>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <center>
                                                        <h:outputText value="Eliminar"/>
                                                    </center>
                                                </f:facet>
                                                <center>
                                                    <h:commandLink action="#{manejadorEstudiosEmpleados.eliminarIdioma(item)}" styleClass="btn-sm glyphicon glyphicon-remove" style="text-decoration:none;" title="Eliminar">
                                                        <f:ajax execute="@this" render="tabla3" />
                                                    </h:commandLink>                                                     
                                                </center>
                                            </h:column>
                                        </h:dataTable>
                                    </h:panelGroup>
                                </h:form>
                            </f:view>
                        </div>
                    </div>
                    <div class="col-md-3"></div>
                </div> 

            </div>
        </div>

        <!-- TABLA CARACTERISTICAS -->
        <p:dialog  header="Ingreso de Idiomas" widgetVar="viewIdiomas" modal="true" height="auto" width="700px" resizable="false" position="center,top">
            <h2 class="text-info text-center">Caracteristicas de Idioma</h2>
            <h:commandButton value="Agregar Caracteristicas a Idioma" class="pull-right btn btn-info" onclick="PF('carac').show();" />
            <div class="clearfix"></div>
            <br />
            <div class="table table-responsive">
                <f:view>
                    <h:form prependId="false">
                        <h:panelGroup id ="tabla4">
                            <h:dataTable rendered="#{not empty manejadorEstudiosEmpleados.idiomas}" id="listCarac" value="#{manejadorEstudiosEmpleados.todosIdiomasId()}" var="item" style="font-size: 14px" styleClass="table table-striped table-hover">
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Idioma"/>
                                    </f:facet>
                                    <h:outputText value="#{item.idiomas.nombreIdioma}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Institución"/>
                                    </f:facet>
                                    <h:outputText value="#{item.institucionIdioma}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <center>
                                            <h:outputText value="Nivel"/>
                                        </center>
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{item.idNivel.nombreNivel}"/>
                                    </center>
                                </h:column>                        
                                <h:column>
                                    <f:facet name="header">
                                        <center>
                                            <h:outputText value="Caracteristicas"/>
                                        </center>
                                    </f:facet>
                                    <center>
                                        <h:outputText value="#{item.caracteristicasIdioma.caracteristicaIdioma}"/>
                                    </center>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <center>
                                            <h:outputText value="Eliminar"/>
                                        </center>
                                    </f:facet>
                                    <center>
                                        <h:commandLink action="#{manejadorEstudiosEmpleados.eliminarCaracteristica(item)}" styleClass="btn-sm glyphicon glyphicon-remove" style="text-decoration:none;" title="Eliminar">
                                            <f:ajax execute="@this" render="tabla4" />
                                        </h:commandLink>  
                                    </center>
                                </h:column>
                            </h:dataTable>
                        </h:panelGroup>
                    </h:form>
                </f:view>
            </div>
        </p:dialog>

        <p:dialog  header="Ingreso de Idiomas" widgetVar="idiomas" modal="true" height="auto" width="auto" resizable="false" position="center,top">
            <h:form enctype="multipart/form-data" prependId="false">

                <p:panelGrid id="panelIdiomas" style="width: 100%;" styleClass="noBordes">
                    <p:row>
                        <p:column><h:outputLabel value="Empleado:"/></p:column>
                        <p:column><h:outputLabel id="nombre4" value="#{manejadorEstudiosEmpleados.nombreEmp}" style="width: 100%"/></p:column>
                    </p:row>
                    <p:row>
                        <p:column><h:outputLabel value="Idioma:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control" id="idiomas" value="#{manejadorEstudiosEmpleados.idiomaSelecionado}" style="width: 100%" required="true"  requiredMessage="The Idiomas field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todosIdiomas()}" var="idioma" itemLabel="#{idioma.nombreIdioma}" itemValue="#{idioma.idIdioma}"/>
                            </h:selectOneMenu>
                        </p:column>
                    </p:row> 

                </p:panelGrid>
                <br />

                <h:commandButton style="margin: 2px" styleClass="btn btn-info" value="Guardar" action="#{manejadorEstudiosEmpleados.guardarIdioma()}"/>
                <h:commandButton style="margin: 2px"  styleClass="btn btn-info"  value="Cancelar" onclick="PF('idiomas').hide()">
                    <f:ajax execute="@this" render="panelIdiomas" />
                    <p:resetInput target="panelIdiomas" />
                </h:commandButton>                

            </h:form>
        </p:dialog>

        <p:dialog  header="Ingreso de Caracteristicas" widgetVar="carac" modal="true" height="auto" width="auto" position="center,top" resizable="false">
            <h:form enctype="multipart/form-data" prependId="false">

                <p:panelGrid id="panelCarac" style="width: 100%;" styleClass="noBordes">

                    <p:row>
                        <p:column><h:outputLabel value="Institución:"/></p:column>
                        <p:column><h:inputText class="form-control" value="#{manejadorEstudiosEmpleados.instIdioma}" required="true" requiredMessage="Debe ingresar una Instituoción" style="width: 100%" /></p:column>
                    </p:row>                     
                    <p:row>
                        <p:column><h:outputLabel value="Características:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control" id="caracteristicasIdioma" value="#{manejadorEstudiosEmpleados.idCaracteristicaIdioma}" style="width: 100%"  required="true"  requiredMessage="The CaracteristicasIdioma field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todasCaracIdiomas()}" var="caracteristica" itemLabel="#{caracteristica.caracteristicaIdioma}" itemValue="#{caracteristica.idCaractIdioma}"/>
                            </h:selectOneMenu>
                        </p:column>
                    </p:row> 
                    <p:row>
                        <p:column><h:outputLabel value="Nivel:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control" id="idNivel" value="#{manejadorEstudiosEmpleados.idiomasCaracteristicas.idNivel}" style="width: 100%" converter="#{nivelIdiomaConvertidor}" >
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todosNiveles()}" var="nivel" itemLabel="#{nivel.nombreNivel}" itemValue="#{nivel}"/>
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><h:outputLabel value="Documento que lo respalda:"/></p:column>                                        
                        <p:column>
                            <p:fileUpload mode="advanced" fileUploadListener="#{manejadorGestionEmpleado.handleFileUpload}"  label="Examinar..." update="nombredoc" allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|doc|pdf|docx|PNG|GIF|JPG|JPEG|DOC|PDF|DOCX)$/" auto="true">
                                <f:attribute name="tipoDoc" value="6" />
                            </p:fileUpload>
                        </p:column>
                        <p:column colspan="2"><p:outputLabel id="nombredoc" value="#{fixme}" style="width: 100%"/></p:column>
                    </p:row>

                </p:panelGrid>
                <br />

                <h:commandButton style="margin: 2px" styleClass="btn btn-info" value="Guardar" action="#{manejadorEstudiosEmpleados.AgregadnoCaracteristicasIdiomas()}"/>
                <h:commandButton style="margin: 2px"  styleClass="btn btn-info"  value="Cancelar" onclick="PF('carac').hide()">
                    <f:ajax execute="@this" render="panelCarac" />
                    <p:resetInput target="panelCarac" />
                </h:commandButton>

            </h:form>
        </p:dialog>

        <p:dialog  header="Ingreso de Educación Formal" widgetVar="formal" modal="true" height="auto" width="auto" resizable="false" position="center,top">
            <h:form enctype="multipart/form-data">
                <h:messages showSummary="true"/>
                <p:panelGrid id="panelFormal" style="width: 100%;" styleClass="noBOrdes">
                    <p:row>
                        <p:column><h:outputLabel value="Institución:"/></p:column>
                        <p:column><p:inputText class="form-control" id="institucionEstudio" value="#{manejadorEstudiosEmpleados.estudiosEmp.institucionEstudio}" style="width: 100%" required="true" requiredMessage="The InstitucionEstudio field is required."/></p:column>
                        <p:column><h:outputLabel value="Año:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control" id="anioEstudio" value="#{manejadorEstudiosEmpleados.anio}" style="width: 100%" required="true" requiredMessage="The AnioEstudio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todosAnios()}" var="anio" itemLabel="#{anio.anio}" itemValue="#{anio.anio}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>                                    
                    <p:row>
                        <p:column><h:outputLabel value="Profeción u Oficio:"/></p:column>
                        <p:column colspan="3">
                            <h:selectOneMenu  class="form-control" id="idProfOficio" value="#{manejadorEstudiosEmpleados.estudiosEmp.idProfOficio}" style="width: 100%" required="true" converter="#{profOficioConvertidor}" requiredMessage="The IdProfOficio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todasProfOficios()}" var="prof" itemLabel="#{prof.nombreProfOficio}" itemValue="#{prof}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><h:outputLabel value="Documento que lo respalda:"/></p:column>                                        
                        <p:column>
                            <p:fileUpload mode="advanced" fileUploadListener="#{manejadorGestionEmpleado.handleFileUpload}" label="Examinar..." update="nombredoc" allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|doc|pdf|docx|PNG|GIF|JPG|JPEG|DOC|PDF|DOCX)$/" auto="true">
                                <f:attribute name="tipoDoc" value="4" />
                            </p:fileUpload>
                        </p:column>
                        <p:column colspan="2"><p:outputLabel id="nombredoc" value="#{fixme}" style="width: 100%"/></p:column>
                    </p:row>
                </p:panelGrid>
                <br />
                <h:commandButton style="margin: 2px" styleClass="btn btn-info" value="Guardar" action="#{manejadorEstudiosEmpleados.guardarEstudioFormal()}"/>
                <h:commandButton style="margin: 2px"  styleClass="btn btn-info"  value="Cancelar" onclick="PF('formal').hide()">
                    <f:ajax execute="@this" render="panelFormal" />
                    <p:resetInput target="panelFormal" />
                </h:commandButton>                

            </h:form>
        </p:dialog>

        <p:dialog  header="Ingreso de Educación No Formal" widgetVar="noformal" modal="true" height="auto" width="auto" resizable="false" position="center,top">
            <h:form enctype="multipart/form-data">
                <h:messages showSummary="true"/>
                <p:panelGrid id="panelNoFormal" style="width: 100%;" styleClass="noBordes">
                    <p:row>
                        <p:column><h:outputLabel value="Institución:"/></p:column>
                        <p:column><p:inputText class="form-control" id="institucionEstudio" value="#{manejadorEstudiosEmpleados.estudiosEmp.institucionEstudio}" style="width: 100%" required="true" requiredMessage="The InstitucionEstudio field is required."/></p:column>
                        <p:column><h:outputLabel value="Año:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control" id="anioEstudio" value="#{manejadorEstudiosEmpleados.anio}" style="width: 100%" required="true" requiredMessage="The AnioEstudio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todosAnios()}" var="anio" itemLabel="#{anio.anio}" itemValue="#{anio.anio}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>                                        
                    <p:row>
                        <p:column><h:outputLabel value="Profeción u Oficio:"/></p:column>
                        <p:column colspan="3">
                            <h:selectOneMenu class="form-control" id="idProfOficio" value="#{manejadorEstudiosEmpleados.estudiosEmp.idProfOficio}" style="width: 100%" required="true" converter="#{profOficioConvertidor}" requiredMessage="The IdProfOficio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todasProfOficios()}" var="prof" itemLabel="#{prof.nombreProfOficio}" itemValue="#{prof}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><h:outputLabel value="Documento que lo respalda:"/></p:column>                                        
                        <p:column>
                            <p:fileUpload mode="advanced" fileUploadListener="#{manejadorGestionEmpleado.handleFileUpload}"  label="Examinar..." update="nombredoc" allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|doc|pdf|docx|PNG|GIF|JPG|JPEG|DOC|PDF|DOCX)$/" auto="true">
                                <f:attribute name="tipoDoc" value="5" />
                            </p:fileUpload>
                        </p:column>
                        <p:column colspan="2"><p:outputLabel id="nombredoc" value="#{fixme}" style="width: 100%"/></p:column>
                    </p:row>
                </p:panelGrid>
                <br />
                <h:commandButton style="margin: 2px" styleClass="btn btn-info" value="Guardar" action="#{manejadorEstudiosEmpleados.guardarEstudioNoFormal()}"/>
                <h:commandButton style="margin: 2px"  styleClass="btn btn-info"  value="Cancelar" onclick="PF('noformal').hide()">
                    <f:ajax execute="@this" render="panelNoFormal" />
                    <p:resetInput target="panelNoFormal" />
                </h:commandButton>  
            </h:form>
        </p:dialog>
        
         <p:dialog  header="Editar Educación Formal" widgetVar="formalEdit" modal="true" height="auto" width="auto" resizable="false" position="center,top">
             <h:form enctype="multipart/form-data" prependId="false">
                <h:messages showSummary="true"/>
                <p:panelGrid id="panelFormalEdit" style="width: 100%;" styleClass="noBOrdes">
                    <p:row>
                        <p:column><h:outputLabel value="Institución:"/></p:column>
                        <p:column><p:inputText class="form-control"  value="#{manejadorEstudiosEmpleados.estudiosEmp.institucionEstudio}" style="width: 100%" required="true" requiredMessage="The InstitucionEstudio field is required."/></p:column>
                        <p:column><h:outputLabel value="Año:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control"  value="#{manejadorEstudiosEmpleados.anio}" style="width: 100%" required="true" requiredMessage="The AnioEstudio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todosAnios()}" var="anio" itemLabel="#{anio.anio}" itemValue="#{anio.anio}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>                                    
                    <p:row>
                        <p:column><h:outputLabel value="Profeción u Oficio:"/></p:column>
                        <p:column colspan="3">
                            <h:selectOneMenu  class="form-control"  value="#{manejadorEstudiosEmpleados.estudiosEmp.idProfOficio}" style="width: 100%" required="true" converter="#{profOficioConvertidor}" requiredMessage="The IdProfOficio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todasProfOficios()}" var="prof" itemLabel="#{prof.nombreProfOficio}" itemValue="#{prof}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><h:outputLabel value="Documento que lo respalda:"/></p:column>                                        
                        <p:column>
                            <p:fileUpload mode="advanced" fileUploadListener="#{manejadorGestionEmpleado.handleFileUpload}" label="Examinar..." update="nombredoc" allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|doc|pdf|docx|PNG|GIF|JPG|JPEG|DOC|PDF|DOCX)$/" auto="true">
                                <f:attribute name="tipoDoc" value="4" />
                            </p:fileUpload>
                        </p:column>
                        <p:column colspan="2"><p:outputLabel value="#{fixme}" style="width: 100%"/></p:column>
                    </p:row>
                </p:panelGrid>
                <br />
                <h:commandButton style="margin: 2px" styleClass="btn btn-info" value="Modificar" action="#{manejadorEstudiosEmpleados.editarEstudio()}"/>
                <h:commandButton style="margin: 2px"  styleClass="btn btn-info"  value="Cancelar" onclick="PF('formalEdit').hide()">
                    <f:ajax execute="@this" render="panelFormalEdit" />
                    <p:resetInput target="panelFormalEdit" />
                </h:commandButton>                

            </h:form>
        </p:dialog>

        <p:dialog  header="Editar de Educación No Formal" widgetVar="noformalEdit" modal="true" height="auto" width="auto" resizable="false" position="center,top">
            <h:form enctype="multipart/form-data" prependId="false">
                <h:messages showSummary="true"/>
                <p:panelGrid id="panelNoFormalEdit" style="width: 100%;" styleClass="noBordes">
                    <p:row>
                        <p:column><h:outputLabel value="Institución:"/></p:column>
                        <p:column><p:inputText class="form-control"  value="#{manejadorEstudiosEmpleados.estudiosEmp.institucionEstudio}" style="width: 100%" required="true" requiredMessage="The InstitucionEstudio field is required."/></p:column>
                        <p:column><h:outputLabel value="Año:"/></p:column>
                        <p:column>
                            <h:selectOneMenu class="form-control" value="#{manejadorEstudiosEmpleados.anio}" style="width: 100%" required="true" requiredMessage="The AnioEstudio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todosAnios()}" var="anio" itemLabel="#{anio.anio}" itemValue="#{anio.anio}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>                                        
                    <p:row>
                        <p:column><h:outputLabel value="Profeción u Oficio:"/></p:column>
                        <p:column colspan="3">
                            <h:selectOneMenu class="form-control"  value="#{manejadorEstudiosEmpleados.estudiosEmp.idProfOficio}" style="width: 100%" required="true" converter="#{profOficioConvertidor}" requiredMessage="The IdProfOficio field is required.">
                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue="#{null}"/>
                                <f:selectItems value="#{manejadorEstudiosEmpleados.todasProfOficios()}" var="prof" itemLabel="#{prof.nombreProfOficio}" itemValue="#{prof}"/>                                                    
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column><h:outputLabel value="Documento que lo respalda:"/></p:column>                                        
                        <p:column>
                            <p:fileUpload mode="advanced" fileUploadListener="#{manejadorGestionEmpleado.handleFileUpload}"  label="Examinar..." update="nombredoc" allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|doc|pdf|docx|PNG|GIF|JPG|JPEG|DOC|PDF|DOCX)$/" auto="true">
                                <f:attribute name="tipoDoc" value="5" />
                            </p:fileUpload>
                        </p:column>
                        <p:column colspan="2"><p:outputLabel  value="#{fixme}" style="width: 100%"/></p:column>
                    </p:row>
                </p:panelGrid>
                <br />
                <h:commandButton style="margin: 2px" styleClass="btn btn-info" value="Modificar" action="#{manejadorEstudiosEmpleados.editarEstudio()}"/>
                <h:commandButton style="margin: 2px"  styleClass="btn btn-info"  value="Cancelar" onclick="PF('noformalEdit').hide()">
                    <f:ajax execute="@this" render="panelNoFormalEdit" />
                    <p:resetInput target="panelNoFormalEdit" />
                </h:commandButton>  
            </h:form>
        </p:dialog>

        <br />
        <br />
        <script type="text/javascript">
            $(document).ready(function () {
                $('#listFormales, #listNoFormales, #idiomasList, #listCarac').dataTable({
                    searching: false,
                    paging: false,
                    "info": false,
                    "oLanguage": {
                        "sProcessing": "Procesando...",
                        "sLengthMenu": "Mostrar _MENU_ registros",
                        "sZeroRecords": "No se encontraron resultados",
                        "sEmptyTable": "Ningún dato disponible en esta tabla",
                        "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                        "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                        "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                        "sInfoPostFix": "",
                        "sSearch": "Buscar:",
                        "sUrl": "",
                        "sInfoThousands": ",",
                        "sLoadingRecords": "Cargando...",
                        "oPaginate": {
                            "sFirst": "Primero",
                            "sLast": "Último",
                            "sNext": "Siguiente",
                            "sPrevious": "Anterior"
                        },
                        "oAria": {
                            "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                            "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                        }
                    }

                });
            });
        </script>
        <script src="#{request.contextPath}/resources/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
    </ui:define>

</ui:composition>
